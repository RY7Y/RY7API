# wrangler.toml
# ๐ ุฅุนุฏุงุฏ Cloudflare Worker ููุดุฑูุน RY7 API
# โ ูุชูุงูู ูุน D1 Database ูุชุฎุฒูู ุงูุฃููุงุฏ ูุฅุฏุงุฑุชูุง ุจุดูู ุฏุงุฆู
# โ ูุญุชูู ุนูู ูุณุงุฑุงุช API + ููุญุฉ ุงูุฃููุงุฏ /admin

# ๐ท๏ธ ุงุณู ุงูู Worker
name = "ry7api"

# ๐ ููู ุงูุชุดุบูู ุงูุฃุณุงุณู
main = "worker.js"

# ๐ ุชุงุฑูุฎ ุงูุชูุงูู (ุงุณุชุฎุฏู ุชุงุฑูุฎ ุงูููู ูุถูุงู ุฏุนู API ุงูุญุฏูุซ)
compatibility_date = "2025-09-24"

# ๐ ุฑุจุท ุงูู Worker ูุน ุฏููููู ุนุจุฑ Cloudflare
routes = [
    # ูุณุงุฑุงุช ุงูู API
    { pattern = "devry7yy.org/api/*", zone_name = "devry7yy.org" },

    # ููุญุฉ ุงูุฅุฏุงุฑุฉ (ููุญุฉ ุงูุฃููุงุฏ)
    { pattern = "devry7yy.org/admin", zone_name = "devry7yy.org" }
]

# ๐ง ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables)
[vars]
# ุฑุงุจุท ุงุญุชูุงุทู ูู ููุช ุชุณุชุฎุฏู JSON ูุฏูู (ุชูุฏุฑ ุชุฎููู ูุงุถู ุงูุขู ูุฃููุง ูุนุชูุฏ ุนูู D1)
GITHUB_CODES_URL = "https://devry7yy.org/codes.json"

# ๐๏ธ ุงูุชููู ุงูุฎุงุต ุจููุญุฉ ุงูุฅุฏุงุฑุฉ
# ูุงุฒู ุชุณุชุฎุฏูู ูู ุงูุฑุงุจุท ูู ?token=... ุฃู ุจุงูููุฏุฑ X-Admin-Token
ADMIN_TOKEN = "RY7_SUPER_SECRET_2025"

# ๐๏ธ ุชุนุฑูู ูุงุนุฏุฉ ุจูุงูุงุช D1
[[d1_databases]]
binding = "RY7_CODES"                 # ููุณ ุงูุงุณู ุงููู ุงุณุชุฎุฏููุงู ุฏุงุฎู worker.js
database_name = "ry7-codes"           # ุงุณู ุงููุงุนุฏุฉ (ููุฌูุฏ ูู Cloudflare Dashboard)
database_id = "adcd2714-2ed4-4e6d-a326-880b81bf44d4"  # ID ูู Cloudflare